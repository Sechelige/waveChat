<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>My Electron App</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/styleChats.css">

</head>

<body>
    <div id="containerLeftbar">
        <div id="containerTop">
            <div id="account">
                <a href="#"><img class="topbarImages" src="images/groupChat.png" alt="A description of the image"></a>
            </div>
            <form id="searchForm">
                <input type="text" id="searchInput" placeholder="Search...">
            </form>
            <div id="newMessage">
                <a href="#"><img class="topbarImages" src="images/new-message.png" alt="A description of the image"></a>
            </div>

        </div>
        <div class="containerChats">

            <script> // SCRIPT TO GENERATE TEMPLATE CHATS
                let divs = '';
                for (let i of Array(50).keys()) {
                    divs += `<a href="#"> 
                                <div class="containerChat">  
                                <img class="groupChatImage" src="images/groupChat.png" alt="A description of the image">
                                <div class="groupChatText"> 
                                <p class="groupName">Nom</p>  
                                <p class="lastMessage">Dernier message</p>  
                                </div> 
                                </div>
                                </a>`;
                }
                document.write(divs);

                const myDivs = document.getElementsByClassName("containerChat");
                for (let i = 0; i < myDivs.length; i++) {
                    myDivs[i].addEventListener("click", function () {
                        this.style.backgroundColor = "red";
                    })
                }
                // END OF SCRIPT
            </script>
        </div>
    </div>
    <div id="containerDiscussion">

        <script>
            const usernames = ['Alice', 'Bob', 'Charlie'];

            // Define an array of template messages
            const templateMessages = ['Hello', 'How are you?', 'Nice to see you!', 'What are you up to?', 'How was your day?'];

            // Shuffle the arrays
            shuffleArray(usernames);
            shuffleArray(templateMessages);

            // Generate 50 random messages
            let messages = '';
            for (let i of Array(50).keys()) {
                // Randomly choose a username and message
                const username = usernames[Math.floor(Math.random() * usernames.length)];
                const message = templateMessages[Math.floor(Math.random() * templateMessages.length)];

                messages += `<div class="messageBox">
    <img class="profilePictureMessage" src="images/groupChat.png">
    <div class="textMessage">
      <p class="usernameChat">${username}</p>
      <p class="messageContent">${message}</p>
    </div>
  </div>`;
            }
            document.write(messages);

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }
        </script>
    </div>

</body>

</html>